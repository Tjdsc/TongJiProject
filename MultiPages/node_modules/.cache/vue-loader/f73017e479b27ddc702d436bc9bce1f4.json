{"remainingRequest":"D:\\DSC\\软件学习\\git\\TongJiProject\\MultiPages\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DSC\\软件学习\\git\\TongJiProject\\MultiPages\\src\\pages\\BatteryManage\\analysis\\views\\DataUploadView.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\DSC\\软件学习\\git\\TongJiProject\\MultiPages\\src\\pages\\BatteryManage\\analysis\\views\\DataUploadView.vue","mtime":1631499561973},{"path":"D:\\DSC\\软件学习\\git\\TongJiProject\\MultiPages\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DSC\\软件学习\\git\\TongJiProject\\MultiPages\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\DSC\\软件学习\\git\\TongJiProject\\MultiPages\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\DSC\\软件学习\\git\\TongJiProject\\MultiPages\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DSC\\软件学习\\git\\TongJiProject\\MultiPages\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQouRGF0YVVwbG9hZCB7DQoNCn0NCg0KDQo="},{"version":3,"sources":["DataUploadView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;;AAEA","file":"DataUploadView.vue","sourceRoot":"src/pages/BatteryManage/analysis/views","sourcesContent":["\r\n<template>\r\n  <div id=\"DataUpload\" >\r\n    <template>\r\n      <i-form :model=\"formItem\" :label-width=\"80\" :style=\"{width: '900px', padding: '50px 150px'}\">\r\n        <h2>请输入电池信息并上传数据：</h2>\r\n        <br>\r\n\r\n        <RadioGroup v-model=\"border\" :style=\"{padding: '10px 20px'}\">\r\n          <h3>电池材料体系：</h3>\r\n          <br>\r\n          <Radio label=\"NCA\" border></Radio>\r\n          <Radio label=\"NCM\" border></Radio>\r\n          <Radio label=\"磷酸铁锂\" border></Radio>\r\n          <Radio label=\"钴酸锂\" border></Radio>\r\n          <Radio label=\"其他体系\" border></Radio>\r\n        </RadioGroup>\r\n\r\n        <br>\r\n\r\n        <h3 :style=\"{padding: '10px 20px'}\">老化评估预警阈值定义：</h3>\r\n\r\n        <div :style=\"{padding: '10px 20px'}\"> 第一预警阈值：</div><Input v-model=\"value\" placeholder=\"推荐填写：90\" style=\"width: 300px\" :style=\"{padding: '5px 20px'}\"/>\r\n        <div :style=\"{padding: '10px 20px'}\"> 第二预警阈值：</div><Input v-model=\"value\" placeholder=\"推荐填写：85\" style=\"width: 300px\" :style=\"{padding: '5px 20px'}\"/>\r\n        <br>\r\n        <h3 :style=\"{padding: '10px 20px'}\">目标老化区间：</h3>\r\n        <div class=\"block\" :style=\"{padding: '10px 20px'}\">\r\n          <el-slider\r\n              v-model=\"agingvalue\"\r\n              range\r\n              :marks=\"marks\">\r\n          </el-slider>\r\n        </div>\r\n\r\n\r\n<!--        <form-item label=\"电池类型\">-->\r\n<!--          <el-select v-model=\"cell_type_value\" placeholder=\"请选择\">-->\r\n<!--            <el-option-->\r\n<!--                v-for=\"item in cell_type_options\"-->\r\n<!--                :key=\"item.cell_type_value\"-->\r\n<!--                :label=\"item.cell_type_label\"-->\r\n<!--                :value=\"item.cell_type_value\">-->\r\n<!--            </el-option>-->\r\n<!--          </el-select>-->\r\n<!--        </form-item>-->\r\n        <br>\r\n<!--        <form-item label=\"预警阈值选择：\">-->\r\n\r\n<!--          <el-select v-model=\"cell_type_value\" placeholder=\"请选择\">-->\r\n<!--            <el-option-->\r\n<!--                v-for=\"item in cell_type_options\"-->\r\n<!--                :key=\"item.cell_type_value\"-->\r\n<!--                :label=\"item.cell_type_label\"-->\r\n<!--                :value=\"item.cell_type_value\">-->\r\n<!--            </el-option>-->\r\n<!--          </el-select>-->\r\n<!--        </form-item>-->\r\n<!--        <form-item label=\"老化区间\">-->\r\n\r\n<!--          <el-select v-model=\"cell_type_value\" placeholder=\"请选择\">-->\r\n<!--            <el-option-->\r\n<!--                v-for=\"item in cell_type_options\"-->\r\n<!--                :key=\"item.cell_type_value\"-->\r\n<!--                :label=\"item.cell_type_label\"-->\r\n<!--                :value=\"item.cell_type_value\">-->\r\n<!--            </el-option>-->\r\n<!--          </el-select>-->\r\n\r\n<!--        </form-item>-->\r\n        <h3 :style=\"{padding: '10px 20px'}\">文件上传：</h3>\r\n        <form-item label=\"\">\r\n          <el-upload\r\n            class=\"upload-demo\"\r\n            drag\r\n            action=\"https://jsonplaceholder.typicode.com/posts/\"\r\n            multiple>\r\n          <i class=\"el-icon-upload\"></i>\r\n          <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n          <div class=\"el-upload__tip\" slot=\"tip\">*只能上传jpg/png文件，且不超过500kb</div>\r\n        </el-upload>\r\n        </form-item>\r\n\r\n        <form-item>\r\n          <el-button @click=\"test_name_and_data\" type=\"primary\" >上传</el-button>\r\n          <el-button :style=\"{margin: '10px 50px'}\">退出</el-button>\r\n\r\n        </form-item>\r\n      </i-form>\r\n    </template>\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<style>\r\n\r\n.DataUpload {\r\n\r\n}\r\n\r\n\r\n</style>\r\n\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\nimport store from \"../store/globalVar\";\r\n\r\n// import request from \"@/request\";\r\n\r\nvar all_Cell_Data = require('../../assets/package.json')\r\nvar parameter = require('../../assets/parameter.json')\r\nvar name_list = require('../../assets/nameList.json')\r\n\r\n\r\nexport default {\r\n  name: 'DataUpload',\r\n\r\n  store,\r\n  data() {\r\n    return {\r\n      formItem: {\r\n        电池类型: '',\r\n        select: '',\r\n        radio: 'male',\r\n        checkbox: [],\r\n        switch: true,\r\n        date: '',\r\n        time: '',\r\n        slider: [20, 50],\r\n        textarea: '',\r\n\r\n        border: 'NCA',\r\n\r\n\r\n\r\n      },\r\n      agingvalue: [0, 100],\r\n      marks:{\r\n        0:'SOH:0',\r\n        20:'SOH:20',\r\n        40:'SOH:40',\r\n        60:'SOH:60',\r\n        80:'SOH:80',\r\n        100:'SOH:100',\r\n\r\n      },\r\n      cell_type_options: [{\r\n        cell_type_value: '选项1',\r\n        cell_type_label: '磷酸铁锂'\r\n      }, {\r\n        cell_type_value: '选项2',\r\n        cell_type_label: '三元(NCA)'\r\n      }, {\r\n        cell_type_value: '选项3',\r\n        cell_type_label: '三元(NCM)'\r\n      }, {\r\n        cell_type_value: '选项4',\r\n        cell_type_label: '钛酸锂'\r\n      }, {\r\n        cell_type_value: '选项5',\r\n        cell_type_label: '其他'\r\n      }],\r\n      cell_type_value: '',\r\n\r\n      cell_warning_options: [{\r\n        cell_warning_threshold_value: '选项1',\r\n        cell_warning_threshold_label: '磷酸铁锂'\r\n      }, {\r\n        cell_warning_threshold_value: '选项2',\r\n        cell_warning_threshold_label: '三元(NCA)'\r\n      }, {\r\n        cell_warning_threshold_value: '选项3',\r\n        cell_warning_threshold_label: '三元(NCM)'\r\n      }, {\r\n        cell_warning_threshold_value: '选项4',\r\n        cell_warning_threshold_label: '钛酸锂'\r\n      }, {\r\n        cell_warning_threshold_value: '选项5',\r\n        cell_warning_threshold_label: '其他'\r\n      }]\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    // open() {\r\n    //   this.$alert('这是一段内容', '标题名称', {\r\n    //     confirmButtonText: '确定',\r\n    //     callback: action => {\r\n    //       this.$message({\r\n    //         type: 'info',\r\n    //         message: `action: ${ action }`\r\n    //       });\r\n    //     }\r\n    //   });\r\n    // },\r\n\r\n\r\n   /* *****************************************************/\r\n\r\n    test_name_and_data(){\r\n\r\n\r\n      /*******************本地调试************************/\r\n      this.$store.state.all_cell_data = all_Cell_Data.dependencies.all[0]\r\n      this.$store.state.b1c4 = all_Cell_Data.dependencies.all[0].b1c4\r\n      this.$store.state.b1c4_parameter = parameter\r\n\r\n      console.log(all_Cell_Data.dependencies.all[0] )\r\n      console.log(this.$store.state.b1c4_parameter )\r\n      this.$store.state.cell_name_list = name_list.name\r\n      for (let cell in this.$store.state.all_cell_data){\r\n\r\n        var currentcapacity = this.$store.state.all_cell_data[cell].capacity.capacity\r\n        // console.log(currentcapacity)\r\n        this.$store.state.current_capacity.push(currentcapacity[currentcapacity.length-1])\r\n\r\n        this.$store.state.aging_degree.push((currentcapacity[0]-currentcapacity[currentcapacity.length-1])*100/currentcapacity[0])\r\n      }\r\n\r\n\r\n      // console.log(this.$store.state.current_capacity)\r\n      // console.log( this.$store.state.aging_degree)\r\n\r\n\r\n\r\n      this.$store.state.fig1_capacity = all_Cell_Data.dependencies.all[0].b1c4.capacity.capacity\r\n      this.$store.state.fig1_cycle = all_Cell_Data.dependencies.all[0].b1c4.capacity.cycle\r\n      // console.log( this.$store.state.fig1_cycle)\r\n      // console.log( this.$store.state.fig1_capacity)\r\n      this.$store.state.knee_point = all_Cell_Data.dependencies.all[0].b1c4.knee_point.knee_point\r\n\r\n      this.$store.state.normalized_capacity = all_Cell_Data.dependencies.all[0].b1c4.knee_degree.normalized_capacity\r\n      this.$store.state.normalized_cycle = all_Cell_Data.dependencies.all[0].b1c4.capacity.normalized_cycle\r\n\r\n      this.$store.state.angle_degree = all_Cell_Data.dependencies.all[0].b1c4.online_degree_all.angle_degree\r\n      this.$store.state.square_degree = all_Cell_Data.dependencies.all[0].b1c4.online_degree_all.square_degree\r\n\r\n      // console.log( this.$store.state.angle_degree)\r\n      // console.log( this.$store.state.square_degree)\r\n      this.$store.state.online_rank = all_Cell_Data.dependencies.all[0].b1c4.online_rank_all.online_rank\r\n\r\n      this.$store.state.predicted_ctk = all_Cell_Data.dependencies.all[0].b1c4.predicted_ctk.predicted_ctk\r\n      this.$store.state.true_ctk = all_Cell_Data.dependencies.all[0].b1c4.predicted_ctk.true_ctk\r\n\r\n      this.$store.state.IC_DV = parameter.parameter.IC_DV\r\n      this.$store.state.IR = parameter.parameter.IR\r\n      this.$store.state.Qd_lin = parameter.parameter.Qd_lin\r\n      this.$store.state.V_lin = parameter.parameter.V_lin\r\n      this.$store.state.abs_IC_DV_max = parameter.parameter.abs_IC_DV_max\r\n      this.$store.state.abs_IC_DV_pos = parameter.parameter.abs_IC_DV_max_pos\r\n\r\n\r\n      this.$confirm('是否确认上传?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '上传成功!'\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '上传失败'\r\n        });\r\n      });\r\n    },\r\n\r\n    requestConnection_getNameList() {\r\n      axios.get(this.$store.state.http_header + this.$store.state.ip + this.$store.state.connection_test)\r\n          .then(response => {\r\n            console.log(response);\r\n            this.getNameList()\r\n            console.log(this.$store.state.b1c4)\r\n\r\n\r\n\r\n\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n    },\r\n\r\n    getNameList() {\r\n      axios.get(this.$store.state.http_header + this.$store.state.ip + this.$store.state.route_name_list)\r\n          .then(response =>{\r\n            console.log(response);\r\n            this.$store.state.cell_name_list=response.data.name\r\n          })\r\n\r\n    },\r\n\r\n\r\n\r\n  },\r\n\r\n  components: {},\r\n\r\n  computed:{\r\n\r\n  },\r\n\r\n}\r\n\r\n</script>\r\n"]}]}